<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Iniciar sesi칩n</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="card login-card">
    <div class="card-body p-4">
        <h1 class="h4 mb-3 text-center">Inicia sesi칩n</h1>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category if category in ['success','danger','warning','info'] else 'info' }} mb-3" role="alert" data-remove-on-wait>
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <form method="post">
            <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
            <div class="mb-3">
                <label class="form-label" for="username">Usuario</label>
                <input class="form-control" type="text" id="username" name="username" required autofocus maxlength="64">
            </div>
            <div class="mb-4">
                <label class="form-label" for="password">Contrase침a</label>
                <div class="input-group contenedor-password">
                    <input class="form-control password-input" type="password" id="password" name="password" required placeholder="Contrase침a" maxlength="128">
                    <button class="btn btn-outline-secondary btn-pass-toggle" type="button"
                            data-toggle-password data-target="#password"
                            data-open-icon="{{ url_for('static', filename='img/open.png') }}"
                            data-close-icon="{{ url_for('static', filename='img/close.png') }}">
                        <img src="{{ url_for('static', filename='img/open.png') }}" alt="Ver" width="18" height="18">
                    </button>
                </div>
            </div>
            {% if wait_seconds %}
                <div class="alert alert-warning py-2" data-wait-seconds="{{ wait_seconds }}" data-remove-on-wait>
                    <span data-wait-label>Vuelve a intentarlo en {{ wait_seconds }}s</span>
                </div>
            {% endif %}
            <button class="btn btn-primary w-100" type="submit">Entrar</button>
        </form>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
